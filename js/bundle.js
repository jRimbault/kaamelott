!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=4)}([function(t,e,n){"use strict";function r(t){return(e,n)=>{const r=t(e),o=t(n);if("string"==typeof r&&"string"==typeof o)return r.localeCompare(o);if("number"==typeof r&&"number"==typeof o)return r<o?-1:r>o?1:0;throw new TypeError("Selector function should return either a number or a string")}}Object.defineProperty(e,"__esModule",{value:!0}),e.sort=function(t,e){return void 0===e?e=>t.concat().sort(r(e)):t.concat().sort(r(e))},e.normalizeDiacritics=function(t){return t.toLocaleLowerCase().normalize("NFKD").replace(/[\u0300-\u036f]/g,"")},e.partition=function(t,e){var n;const r={};for(const o of t){const t=e(o);(null!=(n=r[t])?n:r[t]=[]).push(o)}return r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(2),o=n(5);function i(t){return["div",{children:[["a",{classList:["btn","btn-play"],textContent:t.quote,attributes:{title:[t.quote,t.character,o.getEpisode(t)].join("\n")}}]],listeners:{click:{callback:s(t)}}}]}function c(t){return["a",{classList:["btn","btn-share"],attributes:{title:u(t)},listeners:{click:{callback:a(t)}}}]}function u(t){return`${window.location.href}sounds/${t.file}`}function a(t){return()=>navigator.clipboard.writeText(u(t))}function s(t){return()=>(function(t){return new Audio(`sounds/${t}`).play()})(t.file)}e.buildListItem=function(t){return["li",{attributes:Object.assign({},r.setAttributes(t)),children:[i(t),c(t)]}]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(0);var o;!function(t){t.character="data-character",t.quote="data-quote",t.title="data-title",t.book="data-book",t.number="data-number"}(o=e.Data||(e.Data={})),e.getAttributes=function(t,e){var n,r,i,c,u,a;return void 0!==e?null!=(n=t.getAttribute(e))?n:"":{character:null!=(r=t.getAttribute(o.character))?r:"",quote:null!=(i=t.getAttribute(o.quote))?i:"",title:null!=(c=t.getAttribute(o.title))?c:"",book:null!=(u=t.getAttribute(o.book))?u:"",number:null!=(a=t.getAttribute(o.number))?a:""}},e.setAttributes=function(t){return{[o.character]:r.normalizeDiacritics(t.character),[o.quote]:r.normalizeDiacritics(t.quote),[o.title]:r.normalizeDiacritics(t.episode.title),[o.book]:t.episode.book.toString(),[o.number]:t.episode.number.toString()}}},function(t,e,n){"use strict";function r(t,e){const n=document.createElement(t);return void 0===e?n:(e.id&&(n.id=e.id),function(t,e){e&&("string"==typeof e&&""!==e&&t.classList.add(e),e instanceof Array&&t.classList.add(...e.filter(Boolean)))}(n,e.classList),function(t,e){e&&("string"==typeof e?t.textContent=e:e.html&&(t.innerHTML=e.html))}(n,e.textContent),function(t,e){if(e)for(const[n,r]of Object.entries(e))t.setAttribute(n,r)}(n,e.attributes),function(t,e){if(e&&e.length>0)for(const n of e)n instanceof HTMLElement?t.append(n):t.append(r(n[0],n[1]))}(n,e.children),function(t,e){if(e)for(const[n,r]of Object.entries(e))r&&t.addEventListener(n,r.callback,r.options)}(n,e.listeners),n)}Object.defineProperty(e,"__esModule",{value:!0}),e.createNode=r,e.debounce=function(t,e=500){let n;return r=>new Promise(o=>{void 0!==n&&clearTimeout(n),n=setTimeout(()=>o(t(r)),e)})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(1),o=n(3),i=n(6),c=n(0);function u(t){const e=function(t){return o.createNode("div",{id:"list",children:[["ul",{children:t.map(r.buildListItem)}]]})}(t),n=document.querySelector("#list");n&&n.replaceWith(e)}window.onload=()=>(async function(){const t=c.sort(await(await fetch("sounds/sounds.json")).json(),t=>t.quote);u(t),i.initFilter(t);const e=document.querySelector("button#reset-filter");e&&e.addEventListener("click",()=>u(t))})()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getEpisode=function(t){return`Livre ${e=t.episode.book,["I","II","III","IV","V","VI"][e-1]}, ${t.episode.number} - ${t.episode.title}`;var e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(2),o=n(3),i=n(0),c=n(1);function u(t,e,n){const r=document.querySelector("button"+e);r&&r.addEventListener("click",async()=>{const e=i.partition(t,n),r=[],u=i.sort(Object.keys(e),t=>t);for(const t of u){const n=e[t];n&&r.push(["h2",{textContent:t}],["ul",{children:i.sort(n,t=>t.episode.number).map(c.buildListItem)}])}const a=o.createNode("div",{id:"list",children:r}),s=document.querySelector("#list");s&&s.replaceWith(a)})}var a;e.initFilter=function(t){const e=document.querySelector("input#searchbox");e&&(e.setAttribute("title",["Recherche avancÃ©e :",' personnage : "c:personnage"',' citation : "q:citation"',' titre episode : "t:titre"',' livre : "b:3"',' episode : "n:16"'].join("\n")),e.addEventListener("keyup",o.debounce(function(t){const e=function(t){const e={c:r.Data.character,q:r.Data.quote,t:r.Data.title,b:r.Data.book,n:r.Data.number};return n=>{var o;if(0===n.length)return()=>!0;if(":"===n[1]){const t=e[n[0]];if(t)return function(t,e){var n;const o=null!==(n=s[e][t])&&void 0!==n?n:s[e][t]=new RegExp(t,"g");return t=>o.test(r.getAttributes(t,e))}(n.slice(2),t)}return function(t){return e=>Object.values(r.getAttributes(e)).some(function(t){return e=>(t.lastIndex=0,t.test(e))}(t))}(null!=(o=t[n])?o:t[n]=new RegExp(n,"g"))}}({});return()=>{const n=Array.from(document.querySelectorAll("li")),r=e(i.normalizeDiacritics(t.value));for(const t of n)t.style.display=a.show,r(t)||(t.style.display=a.hide)}}(e))),u(t,"#book-filter",t=>t.episode.book.toString()),u(t,"#character-filter",t=>t.character))},function(t){t.hide="none",t.show="inline-block"}(a||(a={}));const s={[r.Data.character]:{},[r.Data.quote]:{},[r.Data.title]:{},[r.Data.book]:{},[r.Data.number]:{}}}]);
//# sourceMappingURL=bundle.js.map