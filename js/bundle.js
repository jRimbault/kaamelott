!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=5)}([function(t,e,n){"use strict";function r(t){return(e,n)=>{const r=t(e),i=t(n);if("string"==typeof r&&"string"==typeof i)return r.localeCompare(i);if("number"==typeof r&&"number"==typeof i)return r<i?-1:r>i?1:0;throw new TypeError("Selector function should return either a number or a string")}}Object.defineProperty(e,"__esModule",{value:!0}),e.partition=e.normalizeDiacritics=e.sort=void 0,e.sort=function(t,e){return void 0===e?e=>t.concat().sort(r(e)):t.concat().sort(r(e))},e.normalizeDiacritics=function(t){return t.toLocaleLowerCase().normalize("NFKD").replace(/[\u0300-\u036f]/g,"")},e.partition=function(t,e){var n;const r={};for(const i of t){const t=e(i);(null!==(n=r[t])&&void 0!==n?n:r[t]=[]).push(i)}return r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setAttributes=e.getAttributes=e.Data=void 0;const r=n(0);var i;!function(t){t.character="data-character",t.quote="data-quote",t.title="data-title",t.book="data-book",t.number="data-number"}(i=e.Data||(e.Data={})),e.getAttributes=function(t,e){var n,r,o,u,c,a;return void 0!==e?null!==(n=t.getAttribute(e))&&void 0!==n?n:"":{character:null!==(r=t.getAttribute(i.character))&&void 0!==r?r:"",quote:null!==(o=t.getAttribute(i.quote))&&void 0!==o?o:"",title:null!==(u=t.getAttribute(i.title))&&void 0!==u?u:"",book:null!==(c=t.getAttribute(i.book))&&void 0!==c?c:"",number:null!==(a=t.getAttribute(i.number))&&void 0!==a?a:""}},e.setAttributes=function(t){return{[i.character]:r.normalizeDiacritics(t.character),[i.quote]:r.normalizeDiacritics(t.quote),[i.title]:r.normalizeDiacritics(t.episode.title),[i.book]:t.episode.book.toString(),[i.number]:t.episode.number.toString()}}},function(t,e,n){"use strict";function r(t,e){const n=document.createElement(t);return void 0===e?n:(e.id&&(n.id=e.id),function(t,e){if(e)for(const[n,r]of Object.entries(e))r&&t.addEventListener(n,r.callback,r.options);return t}(function(t,e){if(e&&e.length>0)for(const n of e)n instanceof HTMLElement?t.append(n):t.append(r(n[0],n[1]));return t}(function(t,e){if(e)for(const[n,r]of Object.entries(e))t.setAttribute(n,r);return t}(function(t,e){e&&("string"==typeof e?t.textContent=e:e.html&&(t.innerHTML=e.html));return t}(function(t,e){e&&("string"==typeof e&&""!==e&&t.classList.add(e),e instanceof Array&&t.classList.add(...e.filter(Boolean)));return t}(n,e.classList),e.textContent),e.attributes),e.children),e.listeners))}Object.defineProperty(e,"__esModule",{value:!0}),e.debounce=e.createNode=void 0,e.createNode=r,e.debounce=function(t,e=500){let n;return r=>new Promise(i=>{void 0!==n&&clearTimeout(n),n=setTimeout(()=>i(t(r)),e)})}},function(t,e,n){"use strict";function r(t){return["I","II","III","IV","V","VI"][t-1]}Object.defineProperty(e,"__esModule",{value:!0}),e.getEpisode=e.fakeDecimalToRoman=void 0,e.fakeDecimalToRoman=r,e.getEpisode=function(t){return`Livre ${r(t.episode.book)}, ${t.episode.number} - ${t.episode.title}`}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildListItem=e.buildHtmlList=e.replaceList=e.filteredList=void 0;const r=n(1),i=n(2),o=n(3),u=n(0);function c(t){return["li",{attributes:Object.assign({},r.setAttributes(t)),children:[a(t),s(t)]}]}function a(t){return["div",{children:[["a",{classList:["btn","btn-play"],textContent:t.quote,attributes:{title:[t.quote,t.character,o.getEpisode(t)].join("\n")}}]],listeners:{click:{callback:f(t)}}}]}function s(t){return["a",{classList:["btn","btn-share"],attributes:{title:l(t)},listeners:{click:{callback:d(t)}}}]}function l(t){return`${window.location.href}sounds/${t.file}`}function d(t){return()=>navigator.clipboard.writeText(l(t))}function f(t){return()=>{return e=t.file,new Audio("sounds/"+e).play();var e}}e.filteredList=function(t,e,n,r){const i=u.partition(t,e),o=[],a=u.sort(Object.keys(i),t=>t);for(const t of a){const e=i[t];e&&o.push(["h2",{textContent:n?n(t):t}],["ul",{children:(r?u.sort(e,r):e).map(c)}])}return o},e.replaceList=function(t){const e=document.querySelector("#list");e&&e.replaceWith(t)},e.buildHtmlList=function(t){return i.createNode("div",{id:"list",children:[["ul",{children:t.map(c)}]]})},e.buildListItem=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(6),i=n(4),o=n(0);window.onload=()=>async function(){const t=o.sort(await(await fetch("sounds/sounds.json")).json(),t=>t.quote),e=i.buildHtmlList(t);i.replaceList(e),r.initFilters(t);const n=document.querySelector("button#reset-filter");n&&n.addEventListener("click",()=>i.replaceList(e))}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.initFilters=void 0;const r=n(1),i=n(2),o=n(0),u=n(3),c=n(4);function a(t,e,n,r,o){const u=document.querySelector("button"+e);if(!u)return;const a=i.createNode("div",{id:"list",children:c.filteredList(t,n,r,o)});u.addEventListener("click",()=>c.replaceList(a))}var s;function l(t){const e=function(t){const e={c:r.Data.character,q:r.Data.quote,t:r.Data.title,b:r.Data.book,n:r.Data.number};return n=>{var i;if(0===n.length)return()=>!0;if(":"===n[1]){const t=e[n[0]];if(t)return function(t,e){var n;const i=null!==(n=d[e][t])&&void 0!==n?n:d[e][t]=new RegExp(t,"g");return t=>i.test(r.getAttributes(t,e))}(n.slice(2),t)}return function(t){return e=>Object.values(r.getAttributes(e)).some(function(t){return e=>(t.lastIndex=0,t.test(e))}(t))}(null!==(i=t[n])&&void 0!==i?i:t[n]=new RegExp(n,"g"))}}({});return()=>{const n=Array.from(document.querySelectorAll("li")),r=e(o.normalizeDiacritics(t.value));for(const t of n)t.style.display=s.show,r(t)||(t.style.display=s.hide)}}e.initFilters=function(t){const e=document.querySelector("input#searchbox");if(!e)return;e.setAttribute("title",["Recherche avancÃ©e :",' personnage : "c:personnage"',' citation : "q:citation"',' titre episode : "t:titre"',' livre : "b:3"',' episode : "n:16"'].join("\n")),e.addEventListener("keyup",i.debounce(l(e)));const n=window.location.search.substring(1);n&&(l({value:n})(),e.value=n),setTimeout(()=>{a(t,"#book-filter",t=>t.episode.book,t=>"Livre "+u.fakeDecimalToRoman(parseInt(t)),t=>t.episode.number)},0),setTimeout(()=>{a(t,"#character-filter",t=>t.character)},0)},function(t){t.hide="none",t.show="inline-block"}(s||(s={}));const d={[r.Data.character]:{},[r.Data.quote]:{},[r.Data.title]:{},[r.Data.book]:{},[r.Data.number]:{}}}]);
//# sourceMappingURL=bundle.js.map